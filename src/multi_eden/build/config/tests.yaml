# This file defines test modes and their execution configuration.
# Test modes are selected via test suite selection (unit, api, firestore, ai).

modes:
  unit:
    description: "Unit tests with mocked dependencies"
    tests:
      paths: ["unit", "providers", "api"]
    env:
      # Test mode provides complete config - no env needed
      stub_ai: true
      stub_db: true
      test_api_in_memory: true
      custom_auth_enabled: true
      TEST_OMIT_INTEGRATION: true
      JWT_SECRET_KEY: "test-jwt-secret-multi-eden-sdk"
      ALLOWED_USER_EMAILS: "test-user@static.multi-eden-sdk.app"
      APP_ID: "multi-eden-sdk"
    
  ai:
    description: "Integration tests with real AI API calls"
    tests:
      paths: ["ai"]
    env:
      # AI tests need real secrets for API calls
      stub_ai: false
      stub_db: true
      test_api_in_memory: true
      custom_auth_enabled: true
      GEMINI_API_KEY: "secret:gemini-api-key"
      JWT_SECRET_KEY: "test-jwt-secret-multi-eden-sdk"
      ALLOWED_USER_EMAILS: "test-user@static.multi-eden-sdk.app"
      APP_ID: "multi-eden-sdk"
    
  db:
    description: "Database tests with Firebase data provider"
    tests:
      paths: ["db", "providers"]
    default-env: "db-testing"
    env:
      test_api_in_memory: true
    
  api:
    description: "API tests via HTTP (focus on network interface)"
    tests:
      paths: ["api", "providers"]
    default-env: "local"
    env:
      test_api_in_memory: false

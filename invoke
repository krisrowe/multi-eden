#!/bin/bash
# Auto-activate virtual environment and run invoke commands
# This script ensures the virtual environment is active and dependencies are installed before running any invoke tasks

set -e  # Exit on any error

# Get the directory where this script is located
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# Change to the script directory (repo root)
cd "$SCRIPT_DIR"

# Use common setup logic
source ./setup-venv.sh

# Run the invoke command with all arguments passed through
exec invoke "$@"
